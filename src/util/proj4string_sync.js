
var PROJ4_URL = 'http://spatialreference.org/ref/epsg/{0}/proj4/';
var request = require('request');

var data = {};

function fetch_next( data) {
    var epsg = espg_num.shift();
    if (epsg) {
        var url = PROJ4_URL.replace('{0}', epsg);

        request(url, function (error, response, body) {
            if (!error && response.statusCode == 200) {
                //console.log(`${epsg} is ${body}`);
                data[String(epsg)] = body;
            } else {
                data[String(epsg)] = "unknown";
                //console.log(`epsg unknown: ${epsg}`);
                //console.log("code", response.statusCode);
            //    console.log("error", error);
            }
            fetch_next(data);

        });
    } else {
        print_results(data);
    }
}

function main() {
    fetch_next(data);
}
function print_results() {
    console.log(JSON.stringify(data));
}

var espg_num = [
    20137	,
20138	,
20248	,
20249	,
20250	,
20251	,
20252	,
20253	,
20254	,
20255	,
20256	,
20257	,
20258	,
20348	,
20349	,
20350	,
20351	,
20352	,
20353	,
20354	,
20355	,
20356	,
20357	,
20358	,
20437	,
20438	,
20439	,
20499	,
20538	,
20539	,
20700	,
20822	,
20823	,
20824	,
20973	,
20975	,
20977	,
20979	,
20981	,
20983	,
20985	,
20987	,
20989	,
20991	,
20993	,
20995	,
21100	,
21148	,
21149	,
21150	,
21413	,
21414	,
21415	,
21416	,
21417	,
21418	,
21419	,
21420	,
21421	,
21422	,
21423	,
21473	,
21474	,
21475	,
21476	,
21477	,
21478	,
21479	,
21480	,
21481	,
21482	,
21483	,
21500	,
21790	,
21817	,
21818	,
21891	,
21892	,
21893	,
21894	,
22032	,
22033	,
22191	,
22192	,
22193	,
22194	,
22195	,
22196	,
22197	,
22332	,
22391	,
22392	,
22523	,
22524	,
22832	,
22992	,
22993	,
22994	,
23028	,
23029	,
23030	,
23031	,
23032	,
23033	,
23034	,
23035	,
23036	,
23037	,
23038	,
23239	,
23240	,
23433	,
23846	,
23847	,
23848	,
23849	,
23850	,
23851	,
23852	,
23853	,
23886	,
23887	,
23888	,
23889	,
23890	,
23891	,
23892	,
23893	,
23894	,
23947	,
23948	,
24047	,
24048	,
24100	,
24200	,
24370	,
24371	,
24372	,
24373	,
24374	,
24382	,
24383	,
24384	,
24500	,
24547	,
24548	,
24720	,
24721	,
24818	,
24819	,
24820	,
24821	,
24877	,
24878	,
24879	,
24880	,
24891	,
24892	,
24893	,
25000	,
25231	,
25391	,
25392	,
25393	,
25394	,
25395	,
25700	,
25932	,
26191	,
26192	,
26193	,
26237	,
26331	,
26332	,
26391	,
26392	,
26393	,
26432	,
26591	,
26592	,
26632	,
26692	,
26703	,
26704	,
26705	,
26706	,
26707	,
26708	,
26709	,
26710	,
26711	,
26712	,
26713	,
26714	,
26715	,
26716	,
26717	,
26718	,
26719	,
26720	,
26721	,
26722	,
26729	,
26730	,
26731	,
26732	,
26733	,
26734	,
26735	,
26736	,
26737	,
26738	,
26739	,
26740	,
26741	,
26742	,
26743	,
26744	,
26745	,
26746	,
26747	,
26748	,
26749	,
26750	,
26751	,
26752	,
26753	,
26754	,
26755	,
26756	,
26757	,
26758	,
26759	,
26760	,
26761	,
26762	,
26763	,
26764	,
26765	,
26766	,
26767	,
26768	,
26769	,
26770	,
26771	,
26772	,
26773	,
26774	,
26774	,
26775	,
26775	,
26776	,
26776	,
26777	,
26777	,
26778	,
26779	,
26780	,
26781	,
26782	,
26783	,
26784	,
26785	,
26786	,
26787	,
26788	,
26789	,
26790	,
26791	,
26792	,
26793	,
26794	,
26795	,
26796	,
26797	,
26798	,
26801	,
26802	,
26803	,
26903	,
26904	,
26905	,
26906	,
26907	,
26908	,
26909	,
26910	,
26911	,
26912	,
26913	,
26914	,
26915	,
26916	,
26917	,
26918	,
26919	,
26920	,
26921	,
26922	,
26923	,
26929	,
26930	,
26931	,
26932	,
26933	,
26934	,
26935	,
26936	,
26937	,
26938	,
26939	,
26940	,
26941	,
26942	,
26943	,
26944	,
26945	,
26946	,
26948	,
26949	,
26950	,
26951	,
26952	,
26953	,
26954	,
26955	,
26956	,
26957	,
26958	,
26959	,
26960	,
26961	,
26962	,
26963	,
26964	,
26965	,
26966	,
26967	,
26968	,
26969	,
26970	,
26971	,
26972	,
26973	,
26974	,
26975	,
26976	,
26977	,
26978	,
26979	,
26980	,
26981	,
26982	,
26983	,
26984	,
26985	,
26986	,
26987	,
26988	,
26989	,
26990	,
26991	,
26992	,
26993	,
26994	,
26995	,
26996	,
26997	,
26998	,
27038	,
27039	,
27040	,
27120	,
27200	,
27291	,
27292	,
27429	,
27500	,
27581	,
27582	,
27583	,
27591	,
27592	,
27593	,
27700	,
28232	,
28348	,
28349	,
28350	,
28351	,
28352	,
28353	,
28354	,
28355	,
28356	,
28357	,
28358	,
28404	,
28405	,
28406	,
28407	,
28408	,
28409	,
28410	,
28411	,
28412	,
28413	,
28414	,
28415	,
28416	,
28417	,
28418	,
28419	,
28420	,
28421	,
28422	,
28423	,
28424	,
28425	,
28426	,
28427	,
28428	,
28429	,
28430	,
28431	,
28432	,
28464	,
28465	,
28466	,
28467	,
28468	,
28469	,
28470	,
28471	,
28472	,
28473	,
28474	,
28475	,
28476	,
28477	,
28478	,
28479	,
28480	,
28481	,
28482	,
28483	,
28484	,
28485	,
28486	,
28487	,
28488	,
28489	,
28490	,
28491	,
28492	,
28600	,
28991	,
28992	,
29118	,
29119	,
29120	,
29121	,
29122	,
29177	,
29178	,
29179	,
29180	,
29181	,
29182	,
29183	,
29184	,
29185	,
29220	,
29221	,
29333	,
29635	,
29636	,
29700	,
29738	,
29739	,
29800	,
29849	,
29850	,
29900	,
30200	,
30339	,
30340	,
30491	,
30492	,
30591	,
30592	,
30600	,
30729	,
30730	,
30731	,
30732	,
31028	,
31121	,
31291	,
31292	,
31293	,
31300	,
31491	,
31492	,
31493	,
31494	,
31495	,
32001	,
32002	,
32003	,
32005	,
32006	,
32007	,
32008	,
32009	,
32010	,
32011	,
32012	,
32013	,
32014	,
32015	,
32016	,
32017	,
32018	,
32019	,
32020	,
32021	,
32022	,
32023	,
32024	,
32025	,
32026	,
32027	,
32028	,
32029	,
32030	,
32031	,
32033	,
32034	,
32035	,
32036	,
32037	,
32038	,
32039	,
32040	,
32041	,
32042	,
32043	,
32044	,
32045	,
32046	,
32047	,
32048	,
32049	,
32050	,
32051	,
32052	,
32053	,
32054	,
32055	,
32056	,
32057	,
32058	,
32059	,
32060	,
32100	,
32104	,
32107	,
32108	,
32109	,
32110	,
32111	,
32112	,
32113	,
32114	,
32115	,
32116	,
32117	,
32118	,
32119	,
32120	,
32121	,
32122	,
32123	,
32124	,
32125	,
32126	,
32127	,
32128	,
32129	,
32130	,
32133	,
32134	,
32135	,
32136	,
32137	,
32138	,
32139	,
32140	,
32141	,
32142	,
32143	,
32144	,
32145	,
32146	,
32147	,
32148	,
32149	,
32150	,
32151	,
32152	,
32153	,
32154	,
32155	,
32156	,
32157	,
32158	,
32161	,
32201	,
32202	,
32203	,
32204	,
32205	,
32206	,
32207	,
32208	,
32209	,
32210	,
32211	,
32212	,
32213	,
32214	,
32215	,
32216	,
32217	,
32218	,
32219	,
32220	,
32221	,
32222	,
32223	,
32224	,
32225	,
32226	,
32227	,
32228	,
32229	,
32230	,
32231	,
32232	,
32233	,
32234	,
32235	,
32236	,
32237	,
32238	,
32239	,
32240	,
32241	,
32242	,
32243	,
32244	,
32245	,
32246	,
32247	,
32248	,
32249	,
32250	,
32251	,
32252	,
32253	,
32254	,
32255	,
32256	,
32257	,
32258	,
32259	,
32260	,
32301	,
32302	,
32303	,
32304	,
32305	,
32306	,
32307	,
32308	,
32309	,
32310	,
32311	,
32312	,
32313	,
32314	,
32315	,
32316	,
32317	,
32318	,
32319	,
32320	,
32321	,
32322	,
32323	,
32324	,
32325	,
32326	,
32327	,
32328	,
32329	,
32330	,
32331	,
32332	,
32333	,
32334	,
32335	,
32336	,
32337	,
32338	,
32339	,
32340	,
32341	,
32342	,
32343	,
32344	,
32345	,
32346	,
32347	,
32348	,
32349	,
32350	,
32351	,
32352	,
32353	,
32354	,
32355	,
32356	,
32357	,
32358	,
32359	,
32360	,
32401	,
32402	,
32403	,
32404	,
32405	,
32406	,
32407	,
32408	,
32409	,
32410	,
32411	,
32412	,
32413	,
32414	,
32415	,
32416	,
32417	,
32418	,
32419	,
32420	,
32421	,
32422	,
32423	,
32424	,
32425	,
32426	,
32427	,
32428	,
32429	,
32430	,
32431	,
32432	,
32433	,
32434	,
32435	,
32436	,
32437	,
32438	,
32439	,
32440	,
32441	,
32442	,
32443	,
32444	,
32445	,
32446	,
32447	,
32448	,
32449	,
32450	,
32451	,
32452	,
32453	,
32454	,
32455	,
32456	,
32457	,
32458	,
32459	,
32460	,
32501	,
32502	,
32503	,
32504	,
32505	,
32506	,
32507	,
32508	,
32509	,
32510	,
32511	,
32512	,
32513	,
32514	,
32515	,
32516	,
32517	,
32518	,
32519	,
32520	,
32521	,
32522	,
32523	,
32524	,
32525	,
32526	,
32527	,
32528	,
32529	,
32530	,
32531	,
32532	,
32533	,
32534	,
32535	,
32536	,
32537	,
32538	,
32539	,
32540	,
32541	,
32542	,
32543	,
32544	,
32545	,
32546	,
32547	,
32548	,
32549	,
32550	,
32551	,
32552	,
32553	,
32554	,
32555	,
32556	,
32557	,
32558	,
32559	,
32560	,
32601	,
32602	,
32603	,
32604	,
32605	,
32606	,
32607	,
32608	,
32609	,
32610	,
32611	,
32612	,
32613	,
32614	,
32615	,
32616	,
32617	,
32618	,
32619	,
32620	,
32621	,
32622	,
32623	,
32624	,
32625	,
32626	,
32627	,
32628	,
32629	,
32630	,
32631	,
32632	,
32633	,
32634	,
32635	,
32636	,
32637	,
32638	,
32639	,
32640	,
32641	,
32642	,
32643	,
32644	,
32645	,
32646	,
32647	,
32648	,
32649	,
32650	,
32651	,
32652	,
32653	,
32654	,
32655	,
32656	,
32657	,
32658	,
32659	,
32660	,
32701	,
32702	,
32703	,
32704	,
32705	,
32706	,
32707	,
32708	,
32709	,
32710	,
32711	,
32712	,
32713	,
32714	,
32715	,
32716	,
32717	,
32718	,
32719	,
32720	,
32721	,
32722	,
32723	,
32724	,
32725	,
32726	,
32727	,
32728	,
32729	,
32730	,
32731	,
32732	,
32733	,
32734	,
32735	,
32736	,
32737	,
32738	,
32739	,
32740	,
32741	,
32742	,
32743	,
32744	,
32745	,
32746	,
32747	,
32748	,
32749	,
32750	,
32751	,
32752	,
32753	,
32754	,
32755	,
32756	,
32757	,
32758	,
32759	,
32760
];
for (var x = 2000; x < 7422; x++) {
    espg_num.push(x);
}
main();
